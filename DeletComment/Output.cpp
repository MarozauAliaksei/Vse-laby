#include <iostream>nEwLinE#include <vector>nEwLinE#include <string>nEwLinE#include <map>nEwLinE#include <regex>nEwLinE#include <algorithm>nEwLinEnEwLinEusing namespace std;nEwLinEnEwLinEstruct NameOfFilenEwLinE{nEwLinE	string date, name;nEwLinE	NameOfFile(){}nEwLinE	NameOfFile(string s)nEwLinE	{nEwLinE		regex pattern(R"(([A-Za-z]+)_(\d{2})(\d{2})(\d{4})\..+\b)");nEwLinE		smatch file_match;nEwLinE		if (regex_search(s, file_match, pattern))nEwLinE		{nEwLinE			name = file_match[1];nEwLinE			date = file_match[4];nEwLinE			date += file_match[3];nEwLinE			date += file_match[2];nEwLinE		}nEwLinE		elsenEwLinE		{nEwLinE			name = "0";nEwLinE		}nEwLinE	}nEwLinE	string GetDate()nEwLinE	{nEwLinE		return date.substr(6, 2) + date.substr(4, 2) + date.substr(0, 4);nEwLinE	}nEwLinE	nEwLinE	/*NameOfFile& operator= (const NameOfFile& other)nEwLinE	{nEwLinE		name = other.name;nEwLinE		date = other.date;nEwLinE		return *this;nEwLinE	}*/nEwLinE};nEwLinEnEwLinEint CountDifferentPref(const vector <NameOfFile>& v)nEwLinE{nEwLinE	map <string, string> mp;nEwLinE	for (auto i : v)nEwLinE	{nEwLinE		mp[i.name] = i.date;nEwLinE	}nEwLinE	return mp.size();nEwLinE}nEwLinEnEwLinEbool comp(const NameOfFile& a, const NameOfFile& b)nEwLinE{nEwLinE	if (a.name == b.name)nEwLinE	{nEwLinE		return a.date > b.date;nEwLinE	}nEwLinE	return a.name > b.name;nEwLinE}nEwLinEnEwLinEvector<NameOfFile> FindMaxDateForPref(vector <NameOfFile> v)nEwLinE{nEwLinE	vector<NameOfFile> res;nEwLinE	sort(v.begin(), v.end(), comp);nEwLinE	res.push_back(v[0]);nEwLinE	for (auto i : v)nEwLinE	{nEwLinE		if (i.name != res[res.size() - 1].name)nEwLinE		{nEwLinE			res.push_back(i);nEwLinE		}nEwLinE		elsenEwLinE		{nEwLinE			res[res.size() - 1].date = max(res[res.size() - 1].date, i.date);nEwLinE		}nEwLinE	}nEwLinE	return res;nEwLinE}nEwLinEnEwLinEint main()nEwLinE{nEwLinE	nEwLinE	nEwLinE	int n;nEwLinE	cin >> n;nEwLinE	vector <NameOfFile> v;nEwLinE	cin.get();nEwLinE	for (int i = 0; i < n; i++)nEwLinE	{nEwLinE		string s;nEwLinE		getline(cin, s);nEwLinE		NameOfFile nf(s);nEwLinE		if (nf.name != "0")nEwLinE		{nEwLinE			v.push_back(nf);nEwLinE		}nEwLinE		/*if (regex_search(s, file_match, pattern))nEwLinE		{nEwLinE			cout << '\n';nEwLinE			for (auto i : file_match)nEwLinE			{nEwLinE				cout << i << '\n';nEwLinE			}nEwLinE		}nEwLinE		elsenEwLinE		{nEwLinE			cout << "No match\n";nEwLinE		}*/nEwLinE	}nEwLinE	cout << CountDifferentPref(v) << '\n';nEwLinE	v = FindMaxDateForPref(v);nEwLinE	for (auto i : v)nEwLinE	{nEwLinE		cout << i.name << ": " << i.GetDate() << '\n';nEwLinE	}nEwLinE	return 0;nEwLinE}nEwLinEnEwLinE